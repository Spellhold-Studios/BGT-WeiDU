BEGIN ~kolvar~

IF WEIGHT #2 ~InParty("Montaron")
InParty("Xzar")
Global("TalkedWithParty","GLOBAL",0)~ THEN BEGIN 0
  SAY @1768
  IF ~~ THEN DO ~SetGlobal("TalkedWithParty","GLOBAL",1)~ GOTO 3
END

IF WEIGHT #3 ~InParty("Montaron")
Global("TalkedWithParty","GLOBAL",0)~ THEN BEGIN 1
  SAY @1769
  IF ~~ THEN DO ~SetGlobal("TalkedWithParty","GLOBAL",1)~ GOTO 3
END

IF WEIGHT #4 ~InParty("Xzar")
Global("TalkedWithParty","GLOBAL",0)~ THEN BEGIN 2
  SAY @1770
  IF ~~ THEN DO ~SetGlobal("TalkedWithParty","GLOBAL",1)~ GOTO 3
END

IF ~~ THEN BEGIN 3
  SAY @1771
  IF ~~ THEN REPLY @1778 UNSOLVED_JOURNAL @310285 GOTO 4
  IF ~~ THEN REPLY @1779 GOTO 5
END

IF ~~ THEN BEGIN 4
  SAY @1772
  IF ~~ THEN GOTO 6
END

IF ~~ THEN BEGIN 5
  SAY @1773
  IF ~~ THEN GOTO 6
END

IF ~~ THEN BEGIN 6
  SAY @1774
  IF ~~ THEN REPLY @1780 JOURNAL @310218 GOTO 7
  IF ~~ THEN REPLY @1781 GOTO 8
  IF ~~ THEN REPLY @1782 DO ~EscapeArea()~ EXIT
END

IF ~~ THEN BEGIN 7
  SAY @1775
  IF ~~ THEN JOURNAL @310219 GOTO 9
END

IF ~~ THEN BEGIN 8
  SAY @1776
  IF ~~ THEN UNSOLVED_JOURNAL @310220 GOTO 9
END

IF ~~ THEN BEGIN 9
  SAY @1777
  IF ~~ THEN DO ~EscapeArea()~ EXIT
END

IF WEIGHT #0 ~StateCheck(Myself,STATE_CHARMED)~ THEN BEGIN 10
  SAY @6284
  IF ~~ THEN JOURNAL @310218 EXIT
END

IF ~~ THEN BEGIN 11
  SAY @9193
  IF ~~ THEN EXIT
END

IF WEIGHT #5 ~True()~ THEN BEGIN 12
  SAY @10621
  IF ~~ THEN EXIT
END
