BEGIN ~ithtyl~

IF WEIGHT #2 ~NumTimesTalkedTo(0)~ THEN BEGIN 0
  SAY @8401
  IF ~ReactionGT(LastTalkedToBy,HOSTILE_UPPER)~ THEN REPLY @8411 GOTO 1
  IF ~ReactionLT(LastTalkedToBy,NEUTRAL_LOWER)~ THEN REPLY @8412 GOTO 2
  IF ~Gender(LastTalkedToBy,MALE)
ReactionLT(LastTalkedToBy,FRIENDLY_LOWER)~ THEN REPLY @8413 GOTO 3
  IF ~Gender(LastTalkedToBy,MALE)
ReactionGT(LastTalkedToBy,NEUTRAL_UPPER)~ THEN REPLY @8414 GOTO 4
  IF ~ReactionLT(LastTalkedToBy,FRIENDLY_LOWER)~ THEN REPLY @8415 GOTO 5
  IF ~ReactionGT(LastTalkedToBy,NEUTRAL_UPPER)~ THEN REPLY @8416 GOTO 6
  IF ~ReactionGT(LastTalkedToBy,HOSTILE_UPPER)~ THEN REPLY @8417 GOTO 7
  IF ~ReactionLT(LastTalkedToBy,NEUTRAL_LOWER)~ THEN REPLY @8418 GOTO 8
END

IF ~~ THEN BEGIN 1
  SAY @8402
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 2
  SAY @8403
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 3
  SAY @8404
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 4
  SAY @8405
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 5
  SAY @8406
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 6
  SAY @8407
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 7
  SAY @8408
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 8
  SAY @8409
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 9
  SAY @8410
  IF ~~ THEN EXIT
END

IF WEIGHT #3 ~True()~ THEN BEGIN 10
  SAY @8419
  IF ~~ THEN EXIT
END

IF WEIGHT #0 ~StateCheck(Myself,STATE_CHARMED)
NumTimesTalkedToLT(3)
Global("A6Charmed","LOCALS",0)~ THEN BEGIN 11
  SAY @8420
  IF ~~ THEN DO ~GivePartyGold(20)
SetGlobal("A6Charmed","LOCALS",1)~ EXIT
END

IF WEIGHT #1 ~False()~ THEN BEGIN 12
  SAY @9205
  IF ~~ THEN EXIT
END
